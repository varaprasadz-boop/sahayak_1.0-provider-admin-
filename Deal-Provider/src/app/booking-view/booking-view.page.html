<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
      <ion-title class="ion-text-center">Booking ID {{bookingView.bookingId}}</ion-title>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
<div class="ion-text-center ion-margin-top">
 <img style="height: 100px;width: 100px;border-radius: 100px;" [src]="bookingView.service.image" alt="">
</div>
<ion-list>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Customer Name
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label> {{bookingView.address.name}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
     Phone Number
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.address.phone}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
     Address
    </ion-label>
    </ion-col>
    <ion-col size="12"   style="display: block;">
     <ion-label  style="float: left;">{{bookingView.address.location}}</ion-label>
    </ion-col> 
  </ion-row>
  <!-- <ion-buttons slot="end"> -->
    <ion-button fill="clear" slot="end" (click)="openMap(bookingView.address)">
      <ion-icon  name="location-outline" ></ion-icon> Navigate
    </ion-button>
  <!-- </ion-buttons> -->
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Service Name
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.service.name}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Category
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{getCategory(bookingView.service.category)}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
     Sub Category
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{getSubCategory(bookingView.service.subCategory)}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Date & Time
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.schedule.date | date: 'dd MMM yyyy'}}, {{convertTo12HourFormat(bookingView.schedule.time)}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
     Booking Start Time
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.startedTime}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
     Booking End Time
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.completedTime}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Booking Status
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.bookingStatus | titlecase}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Payment Status
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.paymentStatus | titlecase}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
  <ion-item class="ion-margin-top">
    <ion-row>
    <ion-col size="12">
    <ion-label style="color: rgb(122, 122, 122);">
      Payment Type
    </ion-label>
    </ion-col>
    <ion-col size="12">
      <ion-label>{{bookingView.paymentType}}</ion-label>
    </ion-col> 
  </ion-row>
  </ion-item>
</ion-list>
<app-timeline [booking]="bookingView"></app-timeline>
</ion-content>
<ion-footer class="ion-no-border">
  <ion-toolbar>
    <ion-row>
      <ion-col size="12">
        <ion-buttons *ngIf="bookingView.agentAcceptedStatus == 'pending' || (bookingView.agentAcceptedStatus == 'rejected' && bookingView.agentWhoRejected !== uid)" class="ion-justify-content-center">
          <ion-button (click)="acceptBooking(bookingView, false)" shape="round" fill="outline" color="danger">Reject</ion-button>
          <ion-button (click)="acceptBooking(bookingView, true)" shape="round" fill="solid" color="primary">Accept</ion-button>
        </ion-buttons>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12" *ngIf="bookingView.jobStatus !== 'completed'">
      <ion-button *ngIf="bookingView.jobStatus === 'upcoming'" color="primary" expand="block" class="ion-margin-top" (click)="bookingStatus.canStartBooking && isStartBooking()">
          {{bookingStatus.canStartBooking ? 'Start Job' : bookingStatus.remainingTime}}
      </ion-button>
      <ion-button *ngIf="bookingView.jobStatus === 'in-progress'" color="primary" expand="block" class="ion-margin-top">
          {{bookingView.jobStatus === 'in-progress' ? 'In Progress' : 'Completed'}} 
      </ion-button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>
